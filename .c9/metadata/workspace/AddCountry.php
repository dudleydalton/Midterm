{"changed":true,"filter":false,"title":"AddCountry.php","tooltip":"/AddCountry.php","value":"<!DOCTYPE html>\n<html>\n    <head>\n        <title>Midterm</title>\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"main.css\" />\n    </head>\n<body>\n    <h2>Choose a country to add</h2>\n</body>\n</html>","undoManager":{"mark":5,"position":37,"stack":[[{"start":{"row":1,"column":0},"end":{"row":1,"column":32},"action":"insert","lines":["require_once(\"Includes/db.php\");"],"id":1}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":32},"action":"remove","lines":["require_once(\"Includes/db.php\");"],"id":2}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":2},"action":"remove","lines":["?>"],"id":3}],[{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["<?php","",""],"id":4},{"start":{"row":0,"column":0},"end":{"row":148,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html>","    <head>","        <title>Midterm</title>","        <link rel=\"stylesheet\" type=\"text/css\" href=\"main.css\" />","    </head>","<body>","<?php","    $servername = \"localhost\";","    $username = 'siteuser';","    $password = 'mypass';","    $dbname=\"Olympics\";","    ","    //create connection","    $conn = new mysqli($servername, $username, $password, $dbname);","    ","    //check connection","    if ($conn->connect_error) {","     die(\"Connection failed: \" . $conn->connect_error);","    } ","    ","    //create the query to get the categories","    $query = \"SELECT semester FROM course\";","    $result = $conn->query($query);","    ","    //Create dropdown list","    ?>","    <h2>What would you like to do?</h2>","    <a href=\"DisplayCountryWinners.php\">Display all winners from a country</a>","    <br>","    <a href=\"DisplayWinnersYear.php\">Display all winners in an Olympic Year</a>","    <br>","    <a href=\"AddCountry.php\">Add a new country</a></option>","    <br>","    <a href=\"AddYear.php\">Add a new Olympic year(example: add 2016 in Rio)</a>","    <br>","        <?php","        ","        ","        if(isset($_POST['semesterChosen']))","        {","        $semesterChosen = $_POST['semesterChosen']; ","        $subjectChosen = $_POST['subjectChosen'];","        ","        //dont have to specify which table every time","        //$query = \"SELECT * FROM course ","        //WHERE course.semester = '$semesterChosen' ","        //AND coursesubject ='$subjectChosen'\";","        ","        //retrieve all classes","        $query = \"SELECT * FROM course ","        WHERE semester = '$semesterChosen' ","        AND subject ='$subjectChosen'\";","        $classes = $conn->query($query);","","        //retrieve all instructors","        $query = \"SELECT * FROM instructor\";","        $instructors = $conn->query($query);","        ","        //retrieve all rooms","        $query = \"SELECT * FROM room\";","        $rooms = $conn->query($query);","        ","        //retrieve all schedules","        $query = \"SELECT * FROM schedule\";","        $schedule = $conn->query($query);","        ","        echo \"<br>\";"," ","        ?>","            <?php","            ","            if ($classes->num_rows > 0) {","                // output data of each row","                while($row = $classes->fetch_assoc() and $row2 = $instructors->fetch_assoc() and $row3 = $rooms->fetch_assoc() and $row4 = $schedule->fetch_assoc()) {","                    ?>","                    <table>","                    <tr>","                        <td colspan='7' id=\"tdfirst\"><?php echo $row[\"subject\"]. \" \".$row[\"courseNum\"]; ?></td>","                    </tr>","                    <tr>","                        <td id=\"td1\" colspan='7'><?php echo $row[\"courseName\"]; ?> </td>","                    </tr>","                    <tr>","                        <td id=\"td1\" colspan='7'><?php echo \"Credits: 3\"; ?></td>","                    </tr>","                    <tr>","                        <td id =\"td2\" colspan='7'><?php echo $row[\"description\"]; ?> </td>","                    </tr>","                    <tr>","                        <th>CRN</th>","                        <th>Section</th>","                        <th>Day</th>","                        <th>Time</th>","                        <th>Location</th>","                        <th>Instructor</th>","                        <th>Begin/End <br> Dates</th>","                    ","                    </tr>","                    <tr>","                        <th><?php echo $row[\"CRN\"]; ?></th>","                        <td><?php echo $row[\"sectionID\"]; ?></td>","                        ","                        ","                        ","                        <?php","                        //Print the days and start and end time","                        $CRNCheck = $row[\"CRN\"];","                        //$newquery = \"SELECT schedule.* FROM schedule WHERE schedule.courseScheduleID = '$CRNCheck'\";","                        $newquery = \"SELECT * FROM schedule WHERE schedule.courseScheduleID = '$CRNCheck'\";","                        $result = $conn->query($newquery);","                        $row7 = $result->fetch_assoc();","                        ?>","                        <td><?php echo $row7[\"days\"]?></td>","                        ","                        <td><?php echo $row7[\"startTime\"]. \" - \" . $row7[\"endTime\"]; ?></td>","                        ","                        <?php","                        //Print the room number and building","                        $check = $row[\"courseNum\"];","                        //$newquery = \"SELECT room.* FROM room WHERE room.courseRoom = '$check'\";","                        $newquery = \"SELECT * FROM room WHERE room.courseRoom = '$check'\";","                        $result = $conn->query($newquery);","                        $row5 = $result->fetch_assoc();","                        ?>","                        <td><?php echo $row5[\"building\"]. \"-\" . $row5[\"roomNum\"]; ?></td>","                        ","                        <?php","                        //Print the instructor and the start and end date","                        //$newquery = \"SELECT instructor.* FROM instructor WHERE instructor.classTaught = '$check'\";","                        $newquery = \"SELECT * FROM instructor WHERE instructor.classTaught = '$check'\";","                        $result = $conn->query($newquery);","                        $row6 = $result->fetch_assoc();","                        ?>","                        <td><?php echo $row6[\"lastName\"]. \", \" . $row6[\"firstName\"]. \"<br>\" .$row6[\"initial\"]; ?></td>","                        <td><?php echo $row7[\"startDate\"]. \" - \" . $row7[\"endDate\"]; ?></td>","                    </tr>","                    </table>","                    <?php","                    echo \"<br>\" . \"<br>\" . \"<br>\";","                }","                }else {","                    echo \"There is no classes for that subject on the selected semester.\";","            } ","        }","$conn->close();","?>","</body>","</html>"]}],[{"start":{"row":0,"column":0},"end":{"row":147,"column":7},"action":"remove","lines":["<!DOCTYPE html>","<html>","    <head>","        <title>Midterm</title>","        <link rel=\"stylesheet\" type=\"text/css\" href=\"main.css\" />","    </head>","<body>","<?php","    $servername = \"localhost\";","    $username = 'siteuser';","    $password = 'mypass';","    $dbname=\"Olympics\";","    ","    //create connection","    $conn = new mysqli($servername, $username, $password, $dbname);","    ","    //check connection","    if ($conn->connect_error) {","     die(\"Connection failed: \" . $conn->connect_error);","    } ","    ","    //create the query to get the categories","    $query = \"SELECT semester FROM course\";","    $result = $conn->query($query);","    ","    //Create dropdown list","    ?>","    <h2>What would you like to do?</h2>","    <a href=\"DisplayCountryWinners.php\">Display all winners from a country</a>","    <br>","    <a href=\"DisplayWinnersYear.php\">Display all winners in an Olympic Year</a>","    <br>","    <a href=\"AddCountry.php\">Add a new country</a></option>","    <br>","    <a href=\"AddYear.php\">Add a new Olympic year(example: add 2016 in Rio)</a>","    <br>","        <?php","        ","        ","        if(isset($_POST['semesterChosen']))","        {","        $semesterChosen = $_POST['semesterChosen']; ","        $subjectChosen = $_POST['subjectChosen'];","        ","        //dont have to specify which table every time","        //$query = \"SELECT * FROM course ","        //WHERE course.semester = '$semesterChosen' ","        //AND coursesubject ='$subjectChosen'\";","        ","        //retrieve all classes","        $query = \"SELECT * FROM course ","        WHERE semester = '$semesterChosen' ","        AND subject ='$subjectChosen'\";","        $classes = $conn->query($query);","","        //retrieve all instructors","        $query = \"SELECT * FROM instructor\";","        $instructors = $conn->query($query);","        ","        //retrieve all rooms","        $query = \"SELECT * FROM room\";","        $rooms = $conn->query($query);","        ","        //retrieve all schedules","        $query = \"SELECT * FROM schedule\";","        $schedule = $conn->query($query);","        ","        echo \"<br>\";"," ","        ?>","            <?php","            ","            if ($classes->num_rows > 0) {","                // output data of each row","                while($row = $classes->fetch_assoc() and $row2 = $instructors->fetch_assoc() and $row3 = $rooms->fetch_assoc() and $row4 = $schedule->fetch_assoc()) {","                    ?>","                    <table>","                    <tr>","                        <td colspan='7' id=\"tdfirst\"><?php echo $row[\"subject\"]. \" \".$row[\"courseNum\"]; ?></td>","                    </tr>","                    <tr>","                        <td id=\"td1\" colspan='7'><?php echo $row[\"courseName\"]; ?> </td>","                    </tr>","                    <tr>","                        <td id=\"td1\" colspan='7'><?php echo \"Credits: 3\"; ?></td>","                    </tr>","                    <tr>","                        <td id =\"td2\" colspan='7'><?php echo $row[\"description\"]; ?> </td>","                    </tr>","                    <tr>","                        <th>CRN</th>","                        <th>Section</th>","                        <th>Day</th>","                        <th>Time</th>","                        <th>Location</th>","                        <th>Instructor</th>","                        <th>Begin/End <br> Dates</th>","                    ","                    </tr>","                    <tr>","                        <th><?php echo $row[\"CRN\"]; ?></th>","                        <td><?php echo $row[\"sectionID\"]; ?></td>","                        ","                        ","                        ","                        <?php","                        //Print the days and start and end time","                        $CRNCheck = $row[\"CRN\"];","                        //$newquery = \"SELECT schedule.* FROM schedule WHERE schedule.courseScheduleID = '$CRNCheck'\";","                        $newquery = \"SELECT * FROM schedule WHERE schedule.courseScheduleID = '$CRNCheck'\";","                        $result = $conn->query($newquery);","                        $row7 = $result->fetch_assoc();","                        ?>","                        <td><?php echo $row7[\"days\"]?></td>","                        ","                        <td><?php echo $row7[\"startTime\"]. \" - \" . $row7[\"endTime\"]; ?></td>","                        ","                        <?php","                        //Print the room number and building","                        $check = $row[\"courseNum\"];","                        //$newquery = \"SELECT room.* FROM room WHERE room.courseRoom = '$check'\";","                        $newquery = \"SELECT * FROM room WHERE room.courseRoom = '$check'\";","                        $result = $conn->query($newquery);","                        $row5 = $result->fetch_assoc();","                        ?>","                        <td><?php echo $row5[\"building\"]. \"-\" . $row5[\"roomNum\"]; ?></td>","                        ","                        <?php","                        //Print the instructor and the start and end date","                        //$newquery = \"SELECT instructor.* FROM instructor WHERE instructor.classTaught = '$check'\";","                        $newquery = \"SELECT * FROM instructor WHERE instructor.classTaught = '$check'\";","                        $result = $conn->query($newquery);","                        $row6 = $result->fetch_assoc();","                        ?>","                        <td><?php echo $row6[\"lastName\"]. \", \" . $row6[\"firstName\"]. \"<br>\" .$row6[\"initial\"]; ?></td>","                        <td><?php echo $row7[\"startDate\"]. \" - \" . $row7[\"endDate\"]; ?></td>","                    </tr>","                    </table>","                    <?php","                    echo \"<br>\" . \"<br>\" . \"<br>\";","                }","                }else {","                    echo \"There is no classes for that subject on the selected semester.\";","            } ","        }","$conn->close();","?>","</body>"],"id":5}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":7},"action":"remove","lines":["","</html>"],"id":6},{"start":{"row":0,"column":0},"end":{"row":9,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html>","    <head>","        <title>Midterm</title>","        <link rel=\"stylesheet\" type=\"text/css\" href=\"main.css\" />","    </head>","<body>","    ","</body>","</html>"]}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":38},"action":"insert","lines":["<h2>Here is a list of winners</h2>"],"id":7}],[{"start":{"row":7,"column":8},"end":{"row":7,"column":33},"action":"remove","lines":["Here is a list of winners"],"id":8},{"start":{"row":7,"column":8},"end":{"row":7,"column":9},"action":"insert","lines":["C"]}],[{"start":{"row":7,"column":9},"end":{"row":7,"column":10},"action":"insert","lines":["h"],"id":9}],[{"start":{"row":7,"column":10},"end":{"row":7,"column":11},"action":"insert","lines":["o"],"id":10}],[{"start":{"row":7,"column":11},"end":{"row":7,"column":12},"action":"insert","lines":["o"],"id":11}],[{"start":{"row":7,"column":12},"end":{"row":7,"column":13},"action":"insert","lines":["s"],"id":12}],[{"start":{"row":7,"column":13},"end":{"row":7,"column":14},"action":"insert","lines":["e"],"id":13}],[{"start":{"row":7,"column":14},"end":{"row":7,"column":15},"action":"insert","lines":[" "],"id":14}],[{"start":{"row":7,"column":14},"end":{"row":7,"column":15},"action":"remove","lines":[" "],"id":15}],[{"start":{"row":7,"column":13},"end":{"row":7,"column":14},"action":"remove","lines":["e"],"id":16}],[{"start":{"row":7,"column":12},"end":{"row":7,"column":13},"action":"remove","lines":["s"],"id":17}],[{"start":{"row":7,"column":11},"end":{"row":7,"column":12},"action":"remove","lines":["o"],"id":18}],[{"start":{"row":7,"column":11},"end":{"row":7,"column":12},"action":"insert","lines":["o"],"id":19}],[{"start":{"row":7,"column":12},"end":{"row":7,"column":13},"action":"insert","lines":["s"],"id":20}],[{"start":{"row":7,"column":13},"end":{"row":7,"column":14},"action":"insert","lines":["e"],"id":21}],[{"start":{"row":7,"column":14},"end":{"row":7,"column":15},"action":"insert","lines":[" "],"id":22}],[{"start":{"row":7,"column":15},"end":{"row":7,"column":16},"action":"insert","lines":["a"],"id":23}],[{"start":{"row":7,"column":16},"end":{"row":7,"column":17},"action":"insert","lines":[" "],"id":24}],[{"start":{"row":7,"column":17},"end":{"row":7,"column":18},"action":"insert","lines":["c"],"id":25}],[{"start":{"row":7,"column":18},"end":{"row":7,"column":19},"action":"insert","lines":["o"],"id":26}],[{"start":{"row":7,"column":19},"end":{"row":7,"column":20},"action":"insert","lines":["u"],"id":27}],[{"start":{"row":7,"column":20},"end":{"row":7,"column":21},"action":"insert","lines":["n"],"id":28}],[{"start":{"row":7,"column":21},"end":{"row":7,"column":22},"action":"insert","lines":["t"],"id":29}],[{"start":{"row":7,"column":22},"end":{"row":7,"column":23},"action":"insert","lines":["r"],"id":30}],[{"start":{"row":7,"column":23},"end":{"row":7,"column":24},"action":"insert","lines":["y"],"id":31}],[{"start":{"row":7,"column":24},"end":{"row":7,"column":25},"action":"insert","lines":[" "],"id":32}],[{"start":{"row":7,"column":25},"end":{"row":7,"column":26},"action":"insert","lines":["t"],"id":33}],[{"start":{"row":7,"column":26},"end":{"row":7,"column":27},"action":"insert","lines":["o"],"id":34}],[{"start":{"row":7,"column":27},"end":{"row":7,"column":28},"action":"insert","lines":[" "],"id":35}],[{"start":{"row":7,"column":28},"end":{"row":7,"column":29},"action":"insert","lines":["a"],"id":36}],[{"start":{"row":7,"column":29},"end":{"row":7,"column":30},"action":"insert","lines":["d"],"id":37}],[{"start":{"row":7,"column":30},"end":{"row":7,"column":31},"action":"insert","lines":["d"],"id":38}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":7,"column":31},"end":{"row":7,"column":31},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1476219883007}